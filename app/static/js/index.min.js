function next(){var t=$(".active a").attr("id").slice(4),e=Number($(".page").text());$.ajax({type:"GET",url:"/category",data:{cat_id:t,page:(e+1).toString()},success:function(t){$xml=$(t);var a=Number($xml.find("exp_num").text()),i=Number($xml.find("real_num").text()),r=$xml.find("next_num").text();$xml.find("prev_num").text(),$(".page").text(e+1);for(var l=a;l>i;l--)$("#post"+l.toString()).hide();for($("a.tn.float-left").replaceWith('<a class="tn btn-primary float-left" href="#row2" onclick="prev()">&larr; 上一页</a>'),"None"===r?$("a.float-right").replaceWith('<a class="float-right disabled" href="#row2" style="background-color: #e0dede;">没有更多..</a>'):$("a.float-right").replaceWith('<a class="tn btn-primary float-right" href="#row2" onclick="next()">下一页 →</a>'),l=1;l<=i;l++)$article=$xml.find("[num={0}]".replace("{0}",l)),$title=$article.find("title"),$time=$article.find("time"),$url=$article.find("url"),$content=$article.find("content"),$cate=$article.find("cate"),$author=$article.find("author"),$post=$("#post"+l.toString()),$post.show(),$post.find(".post-title").text($title.text()),$post.find("a:first").attr("href",$url.text()),$post.find(".post-subtitle").text($content.text()),$post.find(".post-meta .author").text($author.text()),$post.find(".cate").text($cate.text()),$post.find(".time").text(dayjs($time.text()).format("YYYY-MM-DD, HH:mm:ss"))}})}function prev(){var t=$(".active a").attr("id").slice(4),e=Number($(".page").text());$.ajax({type:"GET",url:"/category",data:{cat_id:t,page:(e-1).toString()},success:function(t){$xml=$(t);var a=Number($xml.find("exp_num").text()),i=($xml.find("next_num").text(),$xml.find("prev_num").text());$(".page").text(e-1),$(".disabled").length>0&&$("a.float-right").replaceWith('<a class="tn btn-primary float-right" href="#row2" onclick="next()">下一页 →</a>'),"None"===i?$("a.tn.float-left").replaceWith('<a class="tn btn-primary float-left" href=""></a>'):$("a.tn.float-left").replaceWith('<a class="tn btn-primary test float-left" href="#row2" onclick="prev()">&larr; 上一页</a>');for(var r=1;r<=a;r++)$article=$xml.find("[num={0}]".replace("{0}",r)),$title=$article.find("title"),$time=$article.find("time"),$url=$article.find("url"),$content=$article.find("content"),$cate=$article.find("cate"),$author=$article.find("author"),$post=$("#post"+r.toString()),$post.show(),$post.find(".post-title").text($title.text()),$post.find("a:first").attr("href",$url.text()),$post.find(".post-subtitle").text($content.text()),$post.find(".post-meta author").text($author.text()),$post.find(".cate").text($cate.text()),$post.find(".time").text(dayjs($time.text()).format("YYYY-MM-DD, HH:mm:ss"))}})}$(".category a").click(function(){$(".active").removeClass("active"),$(this).parent().addClass("active");var t=$(this).attr("id");$.ajax({type:"GET",url:"/category",data:{cat_id:t.slice(4)},success:function(t){$xml=$(t),$(".page").text(1);var e=Number($xml.find("exp_num").text()),a=Number($xml.find("real_num").text()),i=$xml.find("next_num").text(),r=$xml.find("prev_num").text();"None"===i?$("a.float-right").replaceWith('<a class="float-right" href="#row2" style="background-color: #e0dede;">没有更多..</a>'):$("a.float-right").replaceWith('<a class="tn btn-primary float-right" href="#row2" onclick="next()">下一页 →</a>'),"None"===r&&$("a.tn.float-left").replaceWith('<a class="tn btn-primary float-left" href=""></a>');for(var l=e;l>a;l--)$("#post"+l.toString()).hide();for(l=1;l<=a;l++)$article=$xml.find("[num={0}]".replace("{0}",l)),$title=$article.find("title"),$time=$article.find("time"),$url=$article.find("url"),$content=$article.find("content"),$cate=$article.find("cate"),$author=$article.find("author"),$post=$("#post"+l.toString()),$post.show(),$post.find(".post-title").text($title.text()),$post.find("a:first").attr("href",$url.text()),$post.find(".post-subtitle").text($content.text()),$post.find(".post-meta .author").text($author.text()),$post.find(".cate").text($cate.text()),$post.find(".time").text(dayjs($time.text()).format("YYYY-MM-DD, HH:mm:ss"))},error:function(t){alert("The XML File could not be processed correctly.")}})}),$(document).scroll(function(){$(this).scrollTop()>=150&&($("#popUp").css("margin-left","-425px"),$("#plus").css("margin-left","0px"))}),$("#plus").click(function(){$("#popUp").css("margin-left","0px"),$("#plus").css("margin-left","-425px")}),$("#close").click(function(){$("#popUp").css("margin-left","-425px"),$("#plus").css("margin-left","0px")});